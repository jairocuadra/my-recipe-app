<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Final Check</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .check-item { margin-bottom: 10px; padding: 10px; border: 1px solid #ddd; }
        .success { border-left: 5px solid green; }
        .pending { border-left: 5px solid orange; }
        .failure { border-left: 5px solid red; }
        pre { background-color: #f8f8f8; padding: 10px; overflow-x: auto; }
        #file-list { max-height: 200px; overflow-y: auto; }
    </style>
</head>
<body>
    <h1>GitHub Pages Configuration Check</h1>
    
    <div id="basic-check" class="check-item success">
        <h3>Basic File Serving</h3>
        <p>This HTML file is being served correctly! ✅</p>
    </div>
    
    <div id="directory-check" class="check-item pending">
        <h3>Directory Structure Check</h3>
        <p>Checking if we can access file paths...</p>
    </div>
    
    <div id="script-check" class="check-item pending">
        <h3>JavaScript Execution</h3>
        <p>Checking if JavaScript is running properly...</p>
    </div>
    
    <div id="angular-check" class="check-item pending">
        <h3>Angular Script Check</h3>
        <p>Looking for Angular script files...</p>
        <div id="file-list"></div>
    </div>
    
    <h2>Recommendations</h2>
    <div id="recommendations">
        <p>Please wait while we analyze your site...</p>
    </div>
    
    <script>
        // Mark script execution as successful
        document.getElementById('script-check').className = 'check-item success';
        document.getElementById('script-check').innerHTML = '<h3>JavaScript Execution</h3><p>JavaScript is running correctly! ✅</p>';
        
        // List all possible script files to check
        const scriptFiles = [
            'main.e0b047b380e9a621.js',
            'runtime.e02543cc500f3884.js',
            'polyfills.660a93be85aa8c96.js',
            'main.js',
            'runtime.js',
            'polyfills.js'
        ];
        
        const fileList = document.getElementById('file-list');
        let foundFiles = 0;
        
        // Check for each possible script file
        Promise.all(scriptFiles.map(file => {
            return fetch(file)
                .then(response => {
                    if (response.ok) {
                        fileList.innerHTML += `<p>✅ Found: ${file}</p>`;
                        foundFiles++;
                        return true;
                    } else {
                        fileList.innerHTML += `<p>❌ Not found: ${file}</p>`;
                        return false;
                    }
                })
                .catch(() => {
                    fileList.innerHTML += `<p>❌ Error checking: ${file}</p>`;
                    return false;
                });
        })).then(() => {
            const angularCheck = document.getElementById('angular-check');
            if (foundFiles > 0) {
                angularCheck.className = 'check-item success';
                angularCheck.querySelector('p').textContent = `Found ${foundFiles} out of ${scriptFiles.length} Angular script files`;
            } else {
                angularCheck.className = 'check-item failure';
                angularCheck.querySelector('p').textContent = 'Could not find any Angular script files! ❌';
            }
        });
        
        // Display directory information
        const directoryCheck = document.getElementById('directory-check');
        directoryCheck.className = 'check-item success';
        directoryCheck.innerHTML = `
            <h3>Directory Structure Check</h3>
            <p>Current page URL: <code>${window.location.href}</code></p>
            <p>Base URL: <code>${window.location.origin}</code></p>
            <p>Path: <code>${window.location.pathname}</code></p>
        `;
        
        // Update recommendations
        setTimeout(() => {
            const recommendations = document.getElementById('recommendations');
            recommendations.innerHTML = `
                <ul>
                    <li>Check the GitHub Actions build logs to see if the Angular files were generated</li>
                    <li>Ensure the Angular CLI is correctly configured</li>
                    <li>Make sure the files are being copied from the correct dist directory</li>
                    <li>Check your .gitignore file to ensure it's not excluding important build files</li>
                    <li>Look at the browser console (F12) for more detailed error messages</li>
                </ul>
            `;
        }, 1000);
    </script>
</body>
</html> 