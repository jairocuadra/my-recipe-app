<div class="kanban-board">
  <h2 class="board-title">Work Board</h2>
  
  <div class="board-container">
    <div class="column" *ngFor="let column of columns">
      <div class="column-header">
        <h3>{{ columnTitles[column] }}</h3>
        <span class="card-count">{{ getCardsByColumn(column).length }}</span>
      </div>
      
      <div class="column-content" 
           (dragover)="$event.preventDefault()" 
           (drop)="onDrop($event, column)">
        
        <div class="kanban-card" 
             *ngFor="let card of getCardsByColumn(column)"
             draggable="true"
             (dragstart)="$event.dataTransfer?.setData('text/plain', card.id)">
          
          <div class="card-header">
            <div class="card-type" [ngClass]="card.type">
              {{ card.type | titlecase }}
            </div>
            <div class="card-priority" [ngClass]="card.priority">
              {{ card.priority | titlecase }}
            </div>
          </div>
          
          <h4 class="card-title">{{ card.title }}</h4>
          <p class="card-description">{{ card.description }}</p>
          
          <div class="card-footer">
            <div class="card-role" *ngIf="card.role">
              <mat-icon>person</mat-icon>
              <span>{{ card.role === 'underwriter' ? 'Underwriter' : 'Case Manager' }}</span>
            </div>
            <div class="card-due-date" *ngIf="card.dueDate">
              <mat-icon>event</mat-icon>
              <span>{{ card.dueDate | date:'MMM d' }}</span>
            </div>
          </div>
        </div>
        
        <div class="empty-column" *ngIf="getCardsByColumn(column).length === 0">
          <p>No items</p>
        </div>
      </div>
    </div>
  </div>
</div>
